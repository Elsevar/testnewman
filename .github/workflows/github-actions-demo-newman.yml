name: postman-pull-request
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [12.x]  
    steps:
     - name: Check out Git repositor
       uses: actions/checkout@v1
       
     - name: Check out the files
       run: ls
       
     - name: Install dependencies 
       run: python -m pip install -r requirements.txt
       
     - name: Start the app
       run: python manage.py runserver

     - name: Install newman
       run: npm install -g newman

     - name: Run the API and Postman's tests
       run: newman run "Test Collection.postman_collection.json"
